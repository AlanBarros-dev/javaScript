<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Methodos de alta ordem de funções em arrays</title>
</head>
<body>
    <script>
        const personagens = [
            {nivel: 42, nome: "Thrall", raca: "Orc", classe:"Xamã"},
            {nivel: 28, nome: "Garrosh", raca: "Orc", classe:"Guerreiro"},
            {nivel: 35, nome: "Varok", raca: "Orc", classe:"Guerreiro"},
            {nivel: 35, nome: "Uther", raca: "Humano", classe:"Paladino"},
            {nivel: 26, nome: "Jaina", raca: "Humano", classe:"Maga"},
            {nivel: 39, nome: "Tyrande", raca: "Elfo Noturno", classe:"Sarcedotisa"},
            {nivel: 29, nome: "Muradin", raca: "Anão", classe:"Guerreiro"}
        ]

        //Map

        //const nomes = []

       // for(let i = 0; i < personagens.length; i++){
        //    nomes.push(personagens[i].nome)
        //}

      

       const nomes = personagens.map(function(personagem){
        return personagem.nome
       })

       console.log(nomes)



       //filter 

       //const orcs = []

        //for(let i = 0; i < personagens.lenght; i++){
           // if(personagens[i].raca === "Orc"){
           //     orcs.push(personagens[i])
           // }
       //}


       const orcs = personagens.filter(function(personagem){
        return personagem.raca === "Orc"
       })

       console.log(orcs)



       //Reduce Pega um array e transforma em um novo valor, objeto, string qualquer coisa
       

       const nivelTotal = personagens.reduce(function (valorAcumulado, personagem){
            return valorAcumulado + personagem.nivel       
        }, 0)

        console.log(nivelTotal)

        const racas = personagens.reduce(function(valorAcumulado, personagem){
            if (valorAcumulado[personagem.raca]){
                valorAcumulado[personagem.raca].push(personagem)
            }else{
                valorAcumulado[personagem.raca] = [personagem]
            }

            return valorAcumulado
        }, {})

        console.log(racas)



        //sort ordena arrays pega elementos do array e muda de posição de acordo com algum criterio (altera o array original).
        //exemplo organizando a ordem do array por nivel de cada personagem
        personagens.sort(function(a, b){
            return a.nivel - b.nivel
        }
        )

        console.log(personagens)

    </script>

</body>
</html>